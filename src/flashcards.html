<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flashcards</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-blue-300 min-h-screen flex flex-col">

  <!-- Header -->
   <!-- -->
  <header class="bg-blue-300 shadow-md p-4 flex items-center">
    <h3 class="text-sky-900 text-xl font-semibold">ðŸ“„IFY</h3>
  </header>

  <!-- Main content -->
  <main class="flex flex-col items-center p-6 text-center flex-1 space-y-8">
    <!-- Title -->
    <h1 class="text-3xl font-bold text-sky-900">FLASHCARDS</h1>

    <!-- Collections section -->
    <div class="bg-sky-900 text-white rounded-lg shadow-lg w-full max-w-2xl flex items-center justify-between px-6 py-4">
      <div class="flex flex-col items-center border-r border-gray-400 pr-6">
        <span class="font-semibold text-sm">YOUR<br>COLLECTIONS</span>
      </div>

     <div id="collections-list" class="flex items-center space-x-6 text-4xl">
        <!-- Default collection -->
        <button data-name="HTML" class="collection-btn flex flex-col items-center hover:text-sky-400 transition">
          <span class="text-sm mb-1">HTML</span>
          <span>ðŸ“„</span>
        </button>
        <button id="addCollection" class="text-4xl font-bold hover:text-sky-400">+</button>
      </div>
    </div>

    <!-- Add card form -->
    <div class="bg-sky-900 text-white rounded-lg shadow-lg w-full max-w-2xl px-8 py-6">
      <h2 class="text-lg font-medium mb-6">ajouter une carte</h2>

      <div class="space-y-4">
        <div>
          <label class="block text-left text-sm mb-1">Questions :</label>
          <select id="collectionSelect" class="w-full rounded-full px-4 py-2 text-sky-900 outline-none"></select>
          <input id="questionInput" type="text" class="w-full rounded-full px-4 py-2 text-sky-900 outline-none" placeholder="Entrez votre question..." />
        </div>

        <div>
          <label class="block text-left text-sm mb-1">RÃ©ponses :</label>
          <input id="answerInput" type="text" class="w-full rounded-full px-4 py-2 text-sky-900 outline-none" placeholder="Entrez votre rÃ©ponse..." />
        </div>
      </div>

      <div id="newCollectionModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center">
  <div class="bg-white p-6 rounded-xl w-80 shadow-xl">
    <h2 class="text-sky-900 font-semibold mb-3 text-lg">CrÃ©er une collection</h2>

    <input id="newCollectionName" 
           type="text" 
           placeholder="Nom de la collection..."
           class="w-full mb-4 px-3 py-2 rounded border border-gray-300">

    <div class="flex justify-end gap-3">
      <button id="cancelNewCollection" class="px-4 py-1 bg-gray-200 rounded">Annuler</button>
      <button id="confirmNewCollection" class="px-4 py-1 bg-sky-900 text-white rounded">CrÃ©er</button>
    </div>
  </div>
</div>



      <!-- Buttons -->
      <div class="flex justify-center gap-6 mt-6">
        <button id="addExisting" class="bg-white text-sky-900 font-medium px-4 py-2 rounded-full shadow hover:bg-sky-100 transition">
          add to existing collection
        </button>
        <button id="addNew" class="bg-white text-sky-900 font-medium px-4 py-2 rounded-full shadow hover:bg-sky-100 transition">
          add to new collection
        </button>
      </div>
    </div>

    <!-- Cards display -->
    <div id="cardsDisplay" class="bg-white w-full max-w-2xl rounded-lg shadow p-4 hidden">
      <h2 id="collectionTitle" class="text-sky-900 font-semibold text-xl mb-4"></h2>
      <div id="flashcards-container" class="space-y-3"></div>
    </div>
  </main>

  <footer class="h-6 bg-blue-300"></footer>
  

  <!-- JavaScript -->
  <script>
    const questionInput = document.getElementById('questionInput');
    const answerInput = document.getElementById('answerInput');
    const addExisting = document.getElementById('addExisting');
    const addNew = document.getElementById('addNew');
    const addCollection = document.getElementById('addCollection');
    const collectionsDiv = document.getElementById('collections');
    const cardsDisplay = document.getElementById('cardsDisplay');
    const cardsList = document.getElementById('cardsList');
    const collectionTitle = document.getElementById('collectionTitle');

    // Store collections in memory
    let collections = {
      HTML: [
        { question: "Qu'est-ce que HTML ?", answer: "Un langage de balisage pour structurer les pages web." }
      ]
    };
    let currentCollection = null;

    // Function to render cards
    function showCards(collectionName) {
      const cards = collections[collectionName];
      cardsList.innerHTML = '';

      if (!cards || cards.length === 0) {
        cardsList.innerHTML = '<p class="text-gray-500">Aucune carte dans cette collection.</p>';
      } else {
        cards.forEach(card => {
          const div = document.createElement('div');
          div.className = 'border border-sky-200 rounded-lg p-3 text-left';
          div.innerHTML = `<p class="font-semibold text-sky-900">Q: ${card.question}</p>
                           <p class="text-sky-800">R: ${card.answer}</p>`;
          cardsList.appendChild(div);
        });
      }

      collectionTitle.textContent = `Collection: ${collectionName}`;
      cardsDisplay.classList.remove('hidden');
    }

    // Handle existing card addition
    addExisting.addEventListener('click', () => {
      const q = questionInput.value.trim();
      const a = answerInput.value.trim();

      if (!q || !a) {
        alert('Veuillez remplir les deux champs.');
        return;
      }

      if (!currentCollection) {
        alert('Veuillez dâ€™abord sÃ©lectionner une collection.');
        return;
      }

      collections[currentCollection].push({ question: q, answer: a });
      showCards(currentCollection);
      questionInput.value = '';
      answerInput.value = '';
    });

    // Handle new collection creation
    addNew.addEventListener('click', () => {
      const newName = prompt('Nom de la nouvelle collection ?');
      if (!newName || collections[newName]) return alert('Nom invalide ou dÃ©jÃ  existant.');

      collections[newName] = [];
      addCollectionButton(newName);
      alert(`Nouvelle collection "${newName}" crÃ©Ã©e.`);
    });

    // Handle add collection (+)
    addCollection.addEventListener('click', () => {
      const newName = prompt('Nom de la collection Ã  ajouter ?');
      if (!newName || collections[newName]) return alert('Nom invalide ou dÃ©jÃ  existant.');

      collections[newName] = [];
      addCollectionButton(newName);
      alert(`Nouvelle collection "${newName}" ajoutÃ©e.`);
    });

    // Create a clickable collection button
    function addCollectionButton(name) {
      const btn = document.createElement('button');
      btn.dataset.name = name;
      btn.className = 'collection-btn flex flex-col items-center hover:text-sky-400 transition';
      btn.innerHTML = `<span class="text-sm mb-1">${name}</span><span>ðŸ“„</span>`;
      btn.addEventListener('click', () => {
        currentCollection = name;
        showCards(name);
      });
      collectionsDiv.insertBefore(btn, addCollection);
    }

    // Initialize default collection button
    document.querySelectorAll('.collection-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const name = btn.dataset.name;
        currentCollection = name;
        showCards(name);
      });
    });
  </script>
</body>
</html>